<!DOCTYPE html>
<html>
  <head>
    <link href="css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="css/site.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h1>No-Nifty</h1>

    <div id="content">
    	<dl class="dl-horizontal">
    	  <dt>What</dt><dd>...</dd>
        <dt>Why</dt><dd>...</dd>
        <dt>Where</dt><dd>...</dd>
        <dt>Who and when</dt><dd>...</dd>
    	</dl>


    	<table class="table table-condensed">
    		<thead><th>Name</th><th>Preferred Dates</th></thead>
    		<tbody id="peeps"></tbody>
    	</table>
    </div>

    <script id="niftyers-template" type="text/x-handlebars-template">
      <tr class="entry">
        <td><span>{{firstname}} {{lastinit}}</span></td>
        <td>{{prefdate1}}</br>{{prefdate2}}</br>{{prefdate3}}</td>
      </tr>
    </script>

    <!-- Don't need jQuery for Tabletop, but using it for this example -->
    <script type="text/javascript" src="js/handlebars.js"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/tabletop.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript">
      var public_spreadsheet_url = 'https://docs.google.com/spreadsheet/pub?key=0Ap4bJiYhk0XrdFg1NThXMGdEOFRHamNVMk5fZkw3aXc&output=html';

      $(document).ready( function() {
        Tabletop.init( { key: public_spreadsheet_url,
                         callback: showInfo,
                         parseNumbers: true } );
      });

      function showInfo(data, tabletop) {
        var source   = $("#niftyers-template").html();
        var template = Handlebars.compile(source);

        $.each( tabletop.sheets("Peeps").all(), function(i, peep) {
          var html = template(peep);
          $("#peeps").append(html);
        });
      }
    </script>
  </body>
</html>
